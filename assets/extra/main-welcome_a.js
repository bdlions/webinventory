/*!
 * Amplify Core 1.1.0
 *
 * Copyright 2011 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 *
 * http://amplifyjs.com
 */
/*! jQuery Validation Plugin - v1.11.1 - 3/22/2013\n* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2013 JÃ¶rn Zaefferer; Licensed MIT */
define('jquery-wrapper',[],function(){return jQuery}),define('forms/password-strength-meter',['jquery-wrapper'],function(a){return{update:function(a,b){var a,c,d;c=a.find('.password-meter-bar'),d=a.find('.password-meter-message'),b==='weak'?(a.attr('data-strength','weak'),d.text(d.data('weak'))):b==='normal'?(a.attr('data-strength','normal'),d.text(d.data('normal'))):b==='strong'&&(a.attr('data-strength','strong'),d.text(d.data('strong')))}}}),function(a,b){var c=[].slice,d={},e=a.amplify={publish:function(a){var b=c.call(arguments,1),e,f,g,h=0,i;if(!d[a])return!0;e=d[a].slice();for(g=e.length;h<g;h++){f=e[h],i=f.callback.apply(f.context,b);if(i===!1)break}return i!==!1},subscribe:function(a,b,c,e){arguments.length===3&&typeof c=='number'&&(e=c,c=b,b=null),arguments.length===2&&(c=b,b=null),e=e||10;var f=0,g=a.split(/\s/),h=g.length,i;for(;f<h;f++){a=g[f],i=!1,d[a]||(d[a]=[]);var j=d[a].length-1,k={callback:c,context:b,priority:e};for(;j>=0;j--)if(d[a][j].priority<=e){d[a].splice(j+1,0,k),i=!0;break}i||d[a].unshift(k)}return c},unsubscribe:function(a,b){if(!!d[a]){var c=d[a].length,e=0;for(;e<c;e++)if(d[a][e].callback===b){d[a].splice(e,1);break}}}}}(this),define('amplify/amplify.core.min',function(){}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),define('jquery.easing.min',function(){}),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return b&&b.debug&&window.console&&console.warn('Nothing selected, can\'t validate, returning nothing.'),void 0;var c=a.data(this[0],'validator');return c?c:(this.attr('novalidate','novalidate'),c=new a.validator(b,this[0]),a.data(this[0],'validator',c),c.settings.onsubmit&&(this.validateDelegate(':submit','click',function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass('cancel')&&(c.cancelSubmit=!0),void 0!==a(b.target).attr('formnovalidate')&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a('<input type=\'hidden\'/>').attr('name',c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is('form'))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b=b&&c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,'validator').settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case'add':a.extend(g,a.validator.normalizeRule(c)),delete g.messages,f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case'remove':if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[':'],{blank:function(b){return!a.trim(''+a(b).val())},filled:function(b){return!!a.trim(''+a(b).val())},unchecked:function(b){return!a(b).prop('checked')}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(RegExp('\\{'+a+'\\}','g'),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:'error',validClass:'valid',errorElement:'label',focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:':hidden',ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||''!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){'radio'===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){'radio'===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:'This field is required.',remote:'Please fix this field.',email:'Please enter a valid email address.',url:'Please enter a valid URL.',date:'Please enter a valid date.',dateISO:'Please enter a valid date (ISO).',number:'Please enter a valid number.',digits:'Please enter only digits.',creditcard:'Please enter a valid credit card number.',equalTo:'Please enter the same value again.',maxlength:a.validator.format('Please enter no more than {0} characters.'),minlength:a.validator.format('Please enter at least {0} characters.'),rangelength:a.validator.format('Please enter a value between {0} and {1} characters long.'),range:a.validator.format('Please enter a value between {0} and {1}.'),max:a.validator.format('Please enter a value less than or equal to {0}.'),min:a.validator.format('Please enter a value greater than or equal to {0}.')},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,'validator'),d='on'+b.type.replace(/^validate/,'');c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){'string'==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(':text, [type=\'password\'], [type=\'file\'], select, textarea, [type=\'number\'], [type=\'search\'] ,[type=\'tel\'], [type=\'url\'], [type=\'email\'], [type=\'datetime\'], [type=\'date\'], [type=\'month\'], [type=\'week\'], [type=\'time\'], [type=\'datetime-local\'], [type=\'range\'], [type=\'color\'] ','focusin focusout keyup',b).validateDelegate('[type=\'radio\'], [type=\'checkbox\'], select, option','click',b),this.settings.invalidHandler&&a(this.currentForm).bind('invalid-form.validate',this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler('invalid-form',[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData('previousValue')},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(':visible').focus().trigger('focusin')}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find('input, select, textarea').not(':submit, :reset, :image, [disabled]').not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error('%o has no name assigned',this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(' ','.');return a(this.settings.errorElement+'.'+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr('type'),d=a(b).val();return'radio'===c||'checkbox'===c?a('input[name=\''+a(b).attr('name')+'\']:checked').val():'string'==typeof d?d.replace(/\r/g,''):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),'dependency-mismatch'===c){e=!0;continue}if(e=!1,'pending'===c)return this.toHide=this.toHide.not(this.errorsFor(b)),void 0;if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log('Exception occurred when checking element '+b.id+', check the \''+h.method+'\' method.',i),i}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data('msg-'+c.toLowerCase())||b.attributes&&a(b).attr('data-msg-'+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;arguments.length>a;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],'<strong>Warning: No message defined for '+b.name+'</strong>')},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;'function'==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,'{$1}'),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a('<'+this.settings.errorElement+'>').attr('for',this.idOrName(b)).addClass(this.settings.errorClass).html(c||''),this.settings.wrapper&&(d=d.hide().show().wrap('<'+this.settings.wrapper+'/>').parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(''),'string'==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr('for')===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find('[name=\''+b+'\']')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case'select':return a('option:selected',c).length;case'input':if(this.checkable(c))return this.findByName(c.name).filter(':checked').length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{'boolean':function(a){return a},string:function(b,c){return!!a(b,c.form).length},'function':function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&'dependency-mismatch'},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler('invalid-form',[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,'previousValue')||a.data(b,'previousValue',{old:null,valid:!0,message:this.defaultMessage(b,'remote')})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr('class');return d&&a.each(d.split(' '),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b),e=d[0].getAttribute('type');for(var f in a.validator.methods){var g;'required'===f?(g=d.get(0).getAttribute(f),''===g&&(g=!0),g=!!g):g=d.attr(f),/min|max/.test(f)&&(null===e||/number|range|text/.test(e))&&(g=Number(g)),g?c[f]=g:e===f&&'range'!==e&&(c[f]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data('rule-'+c.toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,'validator');return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,f){if(f===!1)return delete b[d],void 0;if(f.param||f.depends){var g=!0;switch(typeof f.depends){case'string':g=!!a(f.depends,c.form).length;break;case'function':g=f.depends.call(c,c)}g?b[d]=void 0!==f.param?f.param:!0:delete b[d]}}),a.each(b,function(d,f){b[d]=a.isFunction(f)?f(c):f}),a.each(['minlength','maxlength'],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(['rangelength','range'],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:'string'==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if('string'==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],3>c.length&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return'dependency-mismatch';if('select'===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(''+new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return'dependency-mismatch';if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,'');for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return 0===c%10},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&d[1]>=e},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&c[1]>=a},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind('.validate-equalTo').bind('blur.validate-equalTo',function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return'dependency-mismatch';var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d='string'==typeof d&&{url:d}||d,e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:'abort',port:'validate'+c.name,dataType:'json',data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||'true'===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var j={},k=d||f.defaultMessage(c,'remote');j[c.name]=e.message=a.isFunction(k)?k(b):k,f.invalid[c.name]=!0,f.showErrors(j)}e.valid=g,f.stopRequest(c,g)}},d)),'pending'}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var f=a.port;'abort'===a.mode&&(b[f]&&b[f].abort(),b[f]=d)});else{var c=a.ajax;a.ajax=function(d){var f=('mode'in d?d:a.ajaxSettings).mode,g=('port'in d?d:a.ajaxSettings).port;return'abort'===f?(b[g]&&b[g].abort(),b[g]=c.apply(this,arguments),b[g]):c.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var f=a(c.target);return f.is(b)?d.apply(f,arguments):void 0})}})}(jQuery),define('forms/jquery.validate.min',function(){}),define('forms/custom-validation-methods',['jquery-wrapper','./jquery.validate.min','../forms/password-strength-meter'],function(a,b,c){return{validate_username:function(){a.validator.addMethod('validateusername',function(a,b){return this.optional(b)||/^[a-z][a-z0-9]{2,15}$/i.test(a)},'')},validateEmail:function(a){return/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)},check_email_same:function(b){a.validator.addMethod('passworddifferent',function(b,c,d){return d[0]!=a(c).val()},'')},validate_password_strength:function(){a.validator.addMethod('validatepasswordstrength',function(a,b,d){var e=d[0],f=a.length,g=a.match(/\d/g),h=a.match(/[a-z]/g),i=a.match(/[A-Z]/g),j=/^.{6,}$/i;if(j.test(a)){var k=0;return g&&(k+=2),h&&(k+=i?4:3),i&&(k+=h?4:3),f>10&&(k+=1),k<=4?(c.update(e,'weak'),!1):k>4&&k<=8?(c.update(e,'normal'),!0):(c.update(e,'strong'),!0)}return!1},'')},not_equal:function(){a.validator.addMethod('notequal',function(a,b,c){return a!==c.val()},'')},passwords_match:function(){a.validator.addMethod('passwordsmatch',function(a,b,c){return a===c[0].val()})}}}),define('pinhp/signup-form_a',['jquery-wrapper','../forms/custom-validation-methods','../forms/jquery.validate.min','../forms/password-strength-meter'],function(a,b){return{init:function(){var c=a('#signup-form'),d=c.find('[data-target=password-meter]'),e=a('#signup-password');e.length>0&&d.length>0&&d.find('.password-meter-message').length>0&&e.bind('keyup blur',function(){e.val().length<6&&(d.attr('data-strength',''),d.find('.password-meter-message').html(''))}),this.validation(c,b),Modernizr.input.placeholder&&c.find('.placeholder').hide()},validation:function(b,c){var d,e,f,g;d=this,e={},f=b.find('[data-target=signup-username]'),g=b.find('[data-target=signup-email]'),b.find('input').each(function(b,c){var d=a(c);e[d.prop('name')]={},a.each(d.data(),function(a,b){e[d.prop('name')][a]=b})}),c.validate_username(),c.check_email_same(this.$form),c.validate_password_strength(),c.not_equal(),c.passwords_match(this.$form),b.validate({rules:{email:{required:!0,email:!0,remote:{dataType:'json',url:'/ajax/check-email-exist.php',data:{json:!0,validator:!0,email:function(){return g.val()}},beforeSend:function(){g.parents('.control').addClass('processing')},complete:function(){g.parents('.control').removeClass('processing'),d.autoFillUsername(f,g.val())}}},newusername:{minlength:3,maxlength:16,validateusername:!0,required:!0,remote:{dataType:'json',url:'/ajax/check-username-exist.php',data:{json:!0,validator:!0,username:function(){return f.val()}},beforeSend:function(){g.parents('.control').addClass('processing')},complete:function(){g.parents('.control').removeClass('processing')}}},newuserpasswd:{minlength:6,required:!0,passworddifferent:[b.find('[data-target=signup-email]').val()],notequal:b.find('[data-target=signup-username]'),validatepasswordstrength:[b.find('[data-target=password-meter]')]},newuserpasswd1:{minlength:6,required:!0,passwordsmatch:[b.find('[data-target=signup-password]')]}},messages:e,highlight:function(b){a(b).closest('.control-group').removeClass('success').addClass('error')},unhighlight:function(b){a(b).closest('.control-group').removeClass('error').addClass('success')},errorPlacement:function(a,b){b.parents('.control-group').addClass('error').removeClass('success').find('.help-inline').append(a)}})},autoFillUsername:function(a,b){var c;b.indexOf('@')==-1?c=b:c=b.substring(0,b.indexOf('@')),c=c.replace(/[^a-z0-9\s]/gi,'').replace(/[_\s]/g,''),c.length>16&&(c=c.substring(0,16)),a.val(c)}}}),define('pinhp/post-project-form_a',['jquery-wrapper','forms/custom-validation-methods','amplify/amplify.core.min','../forms/jquery.validate.min'],function(a,b){a(document).ready(function(){var c={validator:null,init:function(){var c=this;c.$form=a('#post-project-form'),c.$form.length>0&&(c.step_one_state_controller.init(c.$form,c.validator),c.append_signup_form(c.$form),c.append_login_fields(c.$form),c.transition.init(c.$form),c.toggle_sections.init(c.$form),c.slider_nav.init(c.$form.siblings('[data-target=\'post-project-nav\']')),c.set_hours_fields.init(c.$form),c.validation(c.$form,b),Modernizr.input.placeholder&&c.$form.find('.placeholder').hide())},append_login_fields:function(b){var c=a('#login-fields').html(),d=_.template(c);b.find('[data-target=login-fields]').replaceWith(d)},append_signup_form:function(b){var c=a('#signup-fields').html(),d=_.template(c);b.find('[data-target=signup-form]').replaceWith(d)},slider_nav:{init:function(a){a.find('li').filter(':first-child').addClass('active'),this.listener()},listener:function(){var a=this;amplify.subscribe('update_slider_nav',function(b,c){a.transition(b,c)})},transition:function(a,b){var c,d;c=a.find('.active'),b==='prev'?d=c.prev():b==='next'&&(d=c.next()),c.removeClass('active'),d.addClass('active')}},transition:{init:function(a){this.transition_button(a)},transition_button:function(b){var c,d;c=this,b.find('[data-target="transition-bt"]').on('click',function(){var d,e,f;return d=a(this),e=d.parents('fieldset'),b.find('.active').removeClass('active'),d.data('transition')==='next'?(f=e.next(),f.addClass('active'),Modernizr.csstransitions&&c.section_transition(e,f,'right')):d.data('transition')==='prev'&&(f=e.prev(),f.addClass('active'),Modernizr.csstransitions&&c.section_transition(e,f,'left')),c.scroll_to_el_top(b),amplify.publish('update_slider_nav',b.siblings('[data-target=\'post-project-nav\']'),d.data('transition')),!1})},scroll_to_el_top:function(b){var c=b.offset().top;return a('html,body').animate({scrollTop:c},50,'easeOutQuad'),!1},section_transition:function(a,b,c){var d,e;e=250,c==='right'?a.addClass('transition-right').css({left:b.outerWidth()+'px','z-index':'100'}):a.addClass('transition-left').css({left:b.outerWidth()*-1+'px','z-index':'100'}),d=setTimeout(function(){a.css({left:'0px','z-index':''}),c==='right'?a.removeClass('transition-right'):a.removeClass('transition-left'),clearTimeout(d)},e)}},toggle_sections:{init:function(a){this.user_section(a),this.budget_section(a),this.signup_section(a)},user_section:function(b){var c,d,e,f,g,h,i,j;c=b.find('[data-target="project-new-user"]'),d=b.find('[data-target="project-returning-user"]'),e=b.find('[data-target="new-user"]'),f=b.find('[data-target="returning-user"]'),g=b.find('[data-target=signup-field]'),h=b.find('[data-target=pp-signup-toggle]'),i=b.find('#userType'),j=b.find('.gaf-fb-connected-button-inlinepostproject'),d.on('click',function(){f.removeClass('inactive'),e.addClass('inactive'),g.hasClass('inactive')||g.addClass('inactive'),i.val('')}),c.on('click',function(){e.removeClass('inactive'),f.addClass('inactive'),g.removeClass('inactive'),i.val('userTypeNew')}),j.on('click',function(){window.location.hash='signup-inline-postproject',a('[data-toggle=buttons-radio]').hide(),e.addClass('inactive'),f.addClass('inactive'),g.addClass('inactive'),onFBLogin()}),c.trigger('click').parents('label').addClass('active')},signup_section:function(a){var b,c;b=a.find('[data-target=signup-field]'),c=a.find('[data-target=pp-signup-toggle]'),b.removeClass('inactive'),c.on('click',function(){return b.removeClass('inactive').eq(0).find('input').focus(),c.addClass('inactive'),!1})},budget_section:function(a){var b,c,d,e,f;b=this,c=a.find('[data-set="fixed-budget"]'),d=a.find('[data-set="hourly-budget"]'),e=a.find('[data-target="project-fixed-budget"]'),f=a.find('#currency'),a.find('[data-target="project-fixed-budget"]').on('click',function(){d.addClass('inactive'),b.update_budgets(a)}).end().find('[data-target="project-hourly-budget"]').on('click',function(){d.removeClass('inactive'),b.update_budgets(a)}),f.on('change',function(){b.update_budgets(a)}),e.trigger('click')},update_budgets:function(b){var c=b.find('#currency').val(),d='fixed';b.find('[data-target="project-hourly-budget"]').is(':checked')&&(d='hourly'),a.ajax({url:'/buyers/on-budget-control.php',data:'currency='+c+'&budgetPeriod='+d,dataType:'json',cache:!1,success:function(b){if(b.status=='error')return!1;var c=b.vars.budgets,e=b.vars.currency,f=!1,g='';for(var h=0;h<b.vars.budgets.length;h++)g+='<option value="'+c[h].id+'"',h===1&&(g+=' selected'),g+='>'+c[h].name+' ('+e.sign+' ',c[h].max_sum!==null&&c[h].min_sum!==null?g+=c[h].min_sum+'-'+c[h].max_sum:c[h].max_sum===null&&c[h].min_sum!==null?g+='>'+c[h].min_sum:c[h].max_sum!==null&&c[h].min_sum===null?g+='<'+c[h].max_sum:g+='Any',g+=' '+e.code+')',d=='hourly'&&(g+=' '+T_('/ hour')),g+='</option>';a('#budget').html(g)}})}},validation:function(b,c){var d,e,f,g;d=this,e={},f=d.$form.find('[data-target=signup-username]'),g=d.$form.find('[data-target=signup-email]'),b.find('input').add('select').each(function(b,c){var d=a(c);e[d.prop('name')]={},a.each(d.data(),function(a,b){e[d.prop('name')][a]=b})}),c.validate_username(),c.check_email_same(this.$form),c.validate_password_strength(),c.not_equal(),c.passwords_match(b),d.validator=b.validate({keyup:!0,rules:{skill_category:{required:!0,number:!0,min:1},project_name:{required:!0,minlength:4},description:{required:!0,minlength:50},commitment:{required:!0,number:!0,min:1,max:168},username:{required:!0},passwd:{required:!0},email:{required:!0,email:!0,remote:{dataType:'json',url:'/ajax/check-email-exist.php',data:{json:!0,validator:!0,email:function(){return g.val()}},beforeSend:function(){g.parents('.control').addClass('processing')},complete:function(){g.parents('.control').removeClass('processing')}}},newusername:{minlength:3,maxlength:16,validateusername:!0,required:!0,remote:{dataType:'json',url:'/ajax/check-username-exist.php',data:{json:!0,validator:!0,username:function(){return f.val()}},beforeSend:function(){g.parents('.control').addClass('processing')},complete:function(){g.parents('.control').removeClass('processing')}}},skillinput:{required:!0,minlength:1,maxlength:5},newuserpasswd:{minlength:6,required:!0,passworddifferent:[b.find('[data-target=signup-email]').val()],validatepasswordstrength:[b.find('[data-target=password-meter]')]},newuserpasswd1:{minlength:6,required:!0,passwordsmatch:[b.find('[data-target=signup-password]')]}},messages:e,highlight:function(b){a(b).closest('.control-group').removeClass('success').addClass('error')},unhighlight:function(b){a(b).closest('.control-group').removeClass('error').addClass('success')},errorPlacement:function(a,b){b.parents('.control-group').addClass('error').removeClass('success').find('.help-inline').append(a)},submitHandler:function(a){if(window.location.hash.indexOf('signup-inline-postproject')>=0)return!1;_ttref.push(['_trackEvent','PostProject','Posted']),a.submit()}})},set_hours_fields:{$set_hours_group:null,$hours_input:null,init:function(a){this.$set_hours_group=a.find('[data-target=\'hours-required-specific\']'),this.$hours_input=a.find('[data-target=\'commitment\']'),this.listener(a)},listener:function(a){var b,c;c=this,b=a.find('[data-target="hours-required"]'),b.on('change',function(a){c.toggle_hours_group(b.find(':checked').attr('data-target'))}),this.$hours_input.on('change',function(a){c.force_minimum()})},toggle_hours_group:function(a){a==='fixed-time'?this.$set_hours_group.removeClass('inactive'):this.$set_hours_group.addClass('inactive')},force_minimum:function(){this.$hours_input.val()<1&&this.$hours_input.val(1)}},step_one_state_controller:{$form:null,$continue_bt:null,$fieldset:null,$inputs:null,validator:null,init:function(a,b){this.validator=b,this.$form=a,this.$fieldset=this.$form.find('[data-target="step-one"]'),this.$inputs=this.$fieldset.find('[data-target="project-name"]').add('[data-target="project-description"]').add('[data-target="project-categories"]'),this.$job_subcategory=a.find('[data-target=\'skill-categories\']'),this.$continue_bt=this.$fieldset.find('[data-target="transition-bt"]'),this.controller(),this.listener(),this.continue_bt_state(!0)},listener:function(){var a;this.$inputs.on('keyup change blur',function(){clearTimeout(a),a=setTimeout(function(){amplify.publish('step_one_input_updated')},250)})},controller:function(){var a,b;a=this,amplify.subscribe('step_one_input_updated',function(){b=a.validate_step_one_inputs(),b&&a.$continue_bt.attr('disabled')==='disabled'?a.continue_bt_state(!1):!b&&a.$continue_bt.attr('disabled')!=='disabled'&&a.continue_bt_state(!0)}),amplify.subscribe('post-project-bt-clicked',function(b,c){a.update_project_categories_state(b,c)})},update_project_categories_state:function(a,b){var c,d;c=this.$form.find('[data-target=project-categories]'),d=this.$form.find('[data-target=skill-categories]'),a==='-1'||b==='-1'?c.is(':hidden')&&(c.show(),d.show()):d.hide()},validate_step_one_inputs:function(){var b,c;return b=this,c=!0,this.$inputs.each(function(d,e){var f=b.$form.validate().element('#'+a(e).prop('id'));if(!f)return c=!1,!1}),c},continue_bt_state:function(a){a?this.$continue_bt.attr('disabled','disabled'):this.$continue_bt.attr('disabled',!1)}}}.init(),d={$project_categories:a('#project-categories'),$category_skill:a('#project-subcategories'),$additional_fields:a('#hidden_submit_job_list'),init:function(){this.ajax_call(null),this.render_category_skills(),this.select_state_manager()},ajax_call:function(b){var c=this;a.ajax({type:'GET',url:'/ajax/skill-bundle.php',dataType:'json',data:{category:b},cache:!0,success:function(a){b===null?c.category_template_handler(a):c.skills_template_handler(a)}})},category_template_handler:function(b){var c,d;c=a('#category-template').html(),c!==null&&(d=_.template(c,{options:b}),this.$project_categories.html(d))},skills_template_handler:function(b){var c,d;c=a('#skills-template').html(),d=_.template(c,{options:b}),this.$category_skill.html(d),b.length>0&&this.$category_skill.find('[value='+b[0].id+']').attr('selected','selected').trigger('change')},select_state_manager:function(){var b=this;this.$category_skill.hide(),this.$project_categories.on('change',function(){var a=b.$project_categories.find('option:last').val();b.$project_categories.val()>-1&&b.$project_categories.val()!==a?(b.render_category_skills(),b.$category_skill.is(':hidden')&&b.$category_skill.show().addClass('active')):b.$category_skill.is(':visible')&&b.$category_skill.removeClass('active').hide()}),this.$category_skill.on('change',function(){var c=parseInt(a(this).find(':selected').val(),10);b.$additional_fields.html(''),!isNaN(c)&&c!==-1&&a.getJSON('/ajax/skill-bundle.php',{skill_bundle:c},function(a){for(var c in a)b.$additional_fields.append('<input type="hidden" name="job_'+a[c].job_id+'" value="on"/>')})})},render_category_skills:function(){var a=this.$project_categories.find(':selected').val();if(a===-1||a===this.$project_categories.find('option:last').val())return!1;this.ajax_call(a)}};window.location.pathname.match('/hire')||d.init()})}),function(a){function f(b){this.$element=a(b),this.original_text=this.$element.html(),this.settings=a.extend({},a.fn.trunk8.defaults)}function g(){var b=this.data('trunk8'),d=b.settings,f=d.width,g=d.side,h=d.fill,i=c.getLineHeight(this)*d.lines,j=b.original_text,k=j.length,l='',m,n,o,p,q;this.html(j),q=this.text();if(f===e.auto){if(this.height()<=i)return;m=0,n=k-1;while(m<=n)o=m+(n-m>>1),p=c.eatStr(j,g,k-o,h),this.html(p),this.height()>i?n=o-1:(m=o+1,l=l.length>p.length?l:p);this.html(''),this.html(l),d.tooltip&&this.attr('title',q)}else isNaN(f)?a.error('Invalid width "'+f+'".'):(o=k-f,p=c.eatStr(j,g,o,h),this.html(p),d.tooltip&&this.attr('title',j))}var b,c,d={center:'center',left:'left',right:'right'},e={auto:'auto'};f.prototype.updateSettings=function(b){this.settings=a.extend(this.settings,b)},b={init:function(b){return this.each(function(){var c=a(this),d=c.data('trunk8');d||c.data('trunk8',d=new f(this)),d.updateSettings(b),g.call(c)})},update:function(b){return this.each(function(){var c=a(this);b&&(c.data('trunk8').original_text=b),g.call(c)})},revert:function(){return this.each(function(){var b=a(this).data('trunk8').original_text;a(this).html(b)})},getSettings:function(){return a(this.get(0)).data('trunk8').settings}},c={eatStr:function(b,e,f,g){var h=b.length,i=c.eatStr.generateKey.apply(null,arguments),j,k;if(c.eatStr.cache[i])return c.eatStr.cache[i];(typeof b!='string'||h===0)&&a.error('Invalid source string "'+b+'".');if(f<0||f>h)a.error('Invalid bite size "'+f+'".');else if(f===0)return b;typeof (g+'')!='string'&&a.error('Fill unable to be converted to a string.');switch(e){case d.right:return c.eatStr.cache[i]=a.trim(b.substr(0,h-f))+g;case d.left:return c.eatStr.cache[i]=g+a.trim(b.substr(f));case d.center:return j=h>>1,k=f>>1,c.eatStr.cache[i]=a.trim(c.eatStr(b.substr(0,h-j),d.right,f-k,''))+g+a.trim(c.eatStr(b.substr(h-j),d.left,k,''));default:a.error('Invalid side "'+e+'".')}},getLineHeight:function(b){var c=a(b).css('float');c!=='none'&&a(b).css('float','none');var d=a(b).css('position');d==='absolute'&&a(b).css('position','static');var e=a(b).html(),f='line-height-test',g;return a(b).html('i').wrap('<div id="'+f+'" />'),g=a('#'+f).innerHeight(),a(b).html(e).css({'float':c,position:d}).unwrap(),g}},c.eatStr.cache={},c.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,'')},a.fn.trunk8=function(c){if(b[c])return b[c].apply(this,Array.prototype.slice.call(arguments,1));if(typeof c=='object'||!c)return b.init.apply(this,arguments);a.error('Method '+c+' does not exist on jQuery.trunk8')},a.fn.trunk8.defaults={fill:'&hellip;',lines:1,side:d.right,tooltip:!0,width:e.auto}}(jQuery),define('utils/trunk8',function(){}),function(jq){function _defaultRender(a){if(typeof a=='string')var b=a;else{var b;jq.each(a,function(a,c){return b=c,!1})}return'<strong>'+b+'</strong>'}var methods={init:function(a){var b=jq.extend({defaultText:T_('Search'),buckets:[],emptyMessage:T_('Nothing matched your search'),defaultRenderFunction:_defaultRender,onSelect:function(a){},action:!1,tracking:!1},a);if(!jq.isArray(b.buckets)||b.buckets.length==0)return jq.error('Invalid or missing buckets. Buckets to include in the bucketed search must be specified'),!1;var c=jq('<div />').addClass('bucket-search-drop').css('opacity',0).css('visibility','hidden').append(jq('<ul />').addClass('results')),d=this,e=[];jq.each(b.buckets,function(a,f){var g=jq.extend({name:'',show:!0,displayLength:5,url:!1,data:!1,searchFields:!1,showOnEmptyQuery:!1,renderFunction:b.defaultRenderFunction,onSelect:function(a){},searchResults:{},frozen:!1,leaked:!1,leakTunnel:'',titleImage:'project'},f);(typeof g.name!='string'||g.name.length==0)&&jq.error('Bucket name must be specified'),g.data===!1&&g.url===!1&&jq.error('Buckets must have either the data or a url specified'),g.id=g.name.toLowerCase().replace(/[^a-z]+/g,'-'),e.push(g);var h;g.leaked?h=jq('<li />').addClass('bucket-search-heading').attr('data-bucket',g.id).text(g.name).append('<span class="ns_right pull-right see_more_search"><a class="ns_link" src="'+g.leakTunnel+'">'+T_('See More')+'</a><span></span></span>'):h=jq('<li />').addClass('bucket-search-heading').attr('data-bucket',g.id).text(g.name),g.titleImage!=''&&h.prepend('<strong class="bucket-search-images '+g.titleImage+'"></strong>');var i=c.find('.include-bucket').first();i.length>0?i.before(h):c.find('.results').append(h);if(!g.show){h.hide().addClass('hidden');var j=jq('<li />').addClass('include-bucket').text(T_('Include <[- type ]>',{type:g.name})+' ').append(jq('<span />').addClass('icon'));j.bind('click',function(){h.show().removeClass('hidden'),jq(this).remove(),g.show=!0,methods.updateBucket.apply(d,[g]),d.focus()}).bind('mouseover',function(){c.find('.bucket-search-item.hover, .include-bucket.hover').removeClass('hover'),jq(d).addClass('hover')}),h.after(j)}});if(b.action){var f=jq.extend({name:'',onSelect:function(a,b){}},b.action),g=jq('<li />').addClass('include-bucket').text(f.name+' ').append(jq('<span />').addClass('icon'));c.find('.results').append(g),g.bind('click.bucketSearch',f.onSelect)}this.bind('focus.bucketSearch',function(){methods.show.apply(d),jq(this).parents('.site-search').addClass('focus')}).bind('keyup.bucketSearch',function(a){return methods._keyup.apply(d,[a])}).bind('keydown.bucketSearch',function(a){return methods._keydown.apply(d,[a])}).bind('focus.bucketSearch',function(){d.val()==b.defaultText&&d.removeClass('empty').val('')}).bind('blur.bucketSearch',function(){d.val()==''&&d.addClass('empty').val(b.defaultText),jq(this).parents('.site-search').removeClass('focus')}).addClass('bucket-search-input'),this.val()==''&&this.addClass('empty').val(b.defaultText),jq('body').bind('click',function(){methods.hide.apply(d)}),c.bind('click',function(a){a.stopImmediatePropagation()}),this.bind('click',function(a){a.stopImmediatePropagation(),d.focus(),d.select()});var h=jq('<div />').addClass('bucket-search-wrapper');return h.insertBefore(d),h.append(d),h.append(c),jq(this).data('bucketedSearch',{dropdown:c,buckets:e,settings:b}),methods.update.apply(this),this},destroy:function(){return jq(this).data('bucketedSearch').div.remove(),this},show:function(){var a=jq(this).data('bucketedSearch'),b=!1;return jq(a.buckets).each(function(a,c){if(c.extended)return b=!0,!1}),b?(a.dropdown.width(this.outerWidth()-parseInt(a.dropdown.css('border-left-width'))-parseInt(a.dropdown.css('border-right-width'))+280),a.dropdown.css('right',0)):a.dropdown.width(this.outerWidth()-parseInt(a.dropdown.css('border-left-width'))-parseInt(a.dropdown.css('border-right-width'))),a.dropdown.css('top',this.outerHeight()-parseInt(this.css('border-bottom-width'))-parseInt(this.css('border-bottom-left-radius'))/2),a.dropdown.stop(!0).css('visibility','').fadeTo(200,1),this},hide:function(){var a=jq(this).data('bucketedSearch');return a.dropdown.is(':visible')&&a.dropdown.fadeTo(200,0,function(){a.dropdown.css('visibility','hidden')}),this},update:function(){var a=this,b=jq(this).data('bucketedSearch');return jq.each(b.buckets,function(b,c){methods.updateBucket.apply(a,[c])}),this},updateBucket:function(bucket){if(!bucket.show)return!1;var data=jq(this).data('bucketedSearch'),q=jq.trim(jq(this).val().toLowerCase());q==data.settings.defaultText.toLowerCase()&&(q='');if(bucket.searchResults[q]!==undefined)bucket.xhr!==undefined&&bucket.xhr.abort(),methods._replaceBucketResults.apply(this,[bucket,bucket.searchResults[q]]);else if(bucket.data!==!1){var results;if(q.length==0)bucket.showOnEmptyQuery?bucket.displayLength?results=bucket.data.slice(0,bucket.displayLength):results=bucket.data:results=new Array;else{results=bucket.data;var words=q.split(' ');for(var i=0;i<words.length;i++){var word=words[i];if(word.length>0){var matches=new Array;for(var j=0;j<results.length;j++){var record=results[j];if(bucket.searchFields)for(var k=0;k<bucket.searchFields.length;k++){var value=eval('record.'+bucket.searchFields[k]);if(typeof value=='string'&&value.toLowerCase().indexOf(word)>=0){matches.push(record);break}}else for(var l in record){var value=record[l];if(typeof value=='string'&&value.toLowerCase().indexOf(word)>=0){matches.push(record);break}}}results=matches}}bucket.displayLength&&(results=results.slice(0,bucket.displayLength))}bucket.searchResults[q]=results,methods._replaceBucketResults.apply(this,[bucket,results])}else if(bucket.url!==!1){if(q.length==0&&!bucket.showOnEmptyQuery)return bucket.searchResults[q]=new Array,methods._replaceBucketResults.apply(this,[bucket,bucket.searchResults[q]]),!1;var query={q:q};bucket.displayLength&&(query.limit=bucket.displayLength),bucket.xhr!==undefined&&bucket.xhr.abort();var header=data.dropdown.find('.bucket-search-heading[data-bucket='+bucket.id+']');header.hasClass('hidden')||(data.dropdown.find('.bucket-search-item[data-bucket='+bucket.id+'], .bucket-search-empty[data-bucket='+bucket.id+'], .bucket-search-loading[data-bucket='+bucket.id+']').remove(),header.after(jq('<li />').addClass('bucket-search-loading').attr('data-bucket',bucket.id)));var that=this;bucket.frozen?bucket.xhr=jq.ajax({url:bucket.url,data:query,dataType:'json',cache:!1,success:function(a){bucket.xhr=undefined,bucket.frozen?bucket.data=a.results:bucket.searchResults[q]=a.results,methods._replaceBucketResults.apply(that,[bucket,a.results])},complete:function(){bucket.xhr=undefined}}):bucket.xhr=jq.ajax({url:bucket.url,data:query,dataType:'json',success:function(a){bucket.xhr=undefined,bucket.frozen?bucket.data=a.results:bucket.searchResults[q]=a.results,methods._replaceBucketResults.apply(that,[bucket,a.results])},complete:function(){bucket.xhr=undefined}})}return this},select:function(a,b,c){var d=jq(this).data('bucketedSearch');return d.settings.onSelect(c,a),b.onSelect(c,a),methods.hide.apply(this),this},clearCache:function(a){var b=jq(this).data('bucketedSearch');if(a)a.searchResults={};else for(var c=0;c<b.buckets.length;c++)b.buckets[c].searchResults={};return this},getBuckets:function(){return jq(this).data('bucketedSearch').buckets},_keyup:function(a){var b=jq(this).data('bucketedSearch'),c=a.keyCode;if(c){if(c==27||c==9)return this.trigger('blur'),methods.hide.apply(this),!1;if(c==8||c>=44&&c<=90||c>=96&&c<=111||c>=186){if(b.settings.tracking){var d=jq.trim(jq(this).val().toLowerCase());methods._tracking(d)}return methods.update.apply(this),!0}if(c==13){var e=b.dropdown.find('.bucket-search-item.hover, .include-bucket.hover');return e.length==0&&(e=b.dropdown.find('.bucket-search-item, .include-bucket').first()),this.trigger('blur'),e.trigger('click').addClass('active'),setTimeout(function(){e.removeClass('active')},300),!1}}return!0},_tracking:function(a){if(typeof a=='undefined'||a==''||a.length<3||typeof getUserIdfromCookie!='function')return;var b,c;b=getUserIdfromCookie(),c=b==''?'nonLogin':getCookie(getCookieBase()+'_LOOKING_FOR'),_gaq.push(['_trackEvent','BucketedSearch','SearchBox',a])},_keydown:function(a){var b=jq(this).data('bucketedSearch'),c=a.keyCode;if(c)if(c==38||c==40){var d=b.dropdown.find('.bucket-search-item.hover, .include-bucket.hover'),e;return c==40?d.length==0?e=b.dropdown.find('.bucket-search-item, .include-bucket').first():e=d.nextAll('.bucket-search-item, .include-bucket').first():d.length==0?e=b.dropdown.find('.bucket-search-item, .include-bucket').last():e=d.prevAll('.bucket-search-item, .include-bucket').first(),d.removeClass('hover'),e.addClass('hover'),!1}return!0},_replaceBucketResults:function(a,b){var c=jq(this).data('bucketedSearch');c.dropdown.find('.bucket-search-item[data-bucket='+a.id+'], .bucket-search-empty[data-bucket='+a.id+'], .bucket-search-loading[data-bucket='+a.id+'], .bucket-search-empty:not([data-bucket]), .bucket-search-loading:not([data-bucket])').remove();var d=c.dropdown.find('.bucket-search-heading[data-bucket='+a.id+']');b.length>0?(d.show().removeClass('hidden'),a.displayLength&&b.slice(0,a.displayLength)):d.hide().addClass('hidden');var e=this;jq.each(b.reverse(),function(b,f){row=jq('<li />').addClass('bucket-search-item').attr('data-bucket',a.id),row.mousedown(function(b){methods.select.apply(e,[b,a,f])}),row.bind('mouseover',function(){c.dropdown.find('.bucket-search-item.hover, .include-bucket.hover').removeClass('hover'),jq(this).addClass('hover')}),d.after(row),row.append(a.renderFunction(f,row,e.width()));if(a.frozen&&b==a.displayLength-1)return!1}),b.reverse();if(c.dropdown.find('.bucket-search-heading:not(.hidden)').length==0){var f=!1;for(var g=0;g<c.buckets.length;g++)if(c.buckets[g].xhr!==undefined&&c.dropdown.find('.bucket-search-loading').length==0){c.dropdown.find('.results').prepend(jq('<li />').addClass('bucket-search-loading')),f=!0;break}!f&&c.settings.emptyMessage&&c.dropdown.find('.results').prepend(jq('<li />').addClass('bucket-search-empty').text(c.settings.emptyMessage))}else c.dropdown.find('.bucket-search-empty:not([data-bucket])').remove();return this}};jq.fn.bucketedSearch=function(a){if(methods[a])return methods[a].apply(this,Array.prototype.slice.call(arguments,1));if(typeof a=='object'||!a)return methods.init.apply(this,arguments);jq.error('Method '+a+' does not exist on jQuery.bucketedSearch')}}(jQuery),function(a){var b=function(a){function e(b,c,d){var e=a('<span />').addClass('ns_right pull-right').html('by&nbsp;'+b.user.username),f=a('<p />').addClass('project-title').html('<strong></strong>').text(b.project.name),g=a('<span class="job-list"/>').html(b.jobList),h=a('<div />').addClass(' clear'),i=a('<div />').addClass(' clear');c.append(f).append(h).append(g).append(e).append(i);var j,k,l=!1;if(!c.is(':visible'))var l=c.parents().filter(function(){return a(this).css('display')=='none'}).show();l&&l.hide();var m=a('<div />').append(f).append(h).append(g).append(e).append(i);return m.html()}function f(b,c,d){var e=a('<p />').addClass('ns_right pull-right').html(b.currency.sign+''+b.prize+''+b.currency.code),f=a('<p />').addClass('project-title').text(b.name),g=a('<p class="job-list" />').html(b.skill),h=a('<div />').addClass(' clear'),i=a('<div />').addClass(' clear');c.append(f).append(h).append(g).append(e).append(i);var j=!1;if(!c.is(':visible'))var j=c.parents().filter(function(){return a(this).css('display')=='none'}).show();var k=b.currency;j&&j.hide();var l=a('<div />').append(f).append(h).append(g).append(e).append(i);return l.html()}function g(b,c,d){var e=a('<img />').attr('src',b.profile_logo_url).css('float','left').width(50).height(50),f=a('<div />').addClass('indent-wrap'),g=a('<strong />').addClass('user-name').html(b.username),h='';b.flag_icon===null?h=a('<div />'):h=a('<img />').attr('src','/'+b.flag_icon).css('padding-left','5px').width(16).height(11);var i;b.jobList===null?i='':i=b.jobList;var j=a('<div />').addClass('freelancer_job_list').html(i),k=a('<div />').addClass('ns_left pull-left').addClass('stars small ns_ratings-new'),l=a('<div />').addClass('ns_ratings-new ns_active-stars active').css('width',b.reputation*20+'%'),m=a('<div />').addClass('freelancer_reputation_number ns_left pull-left');b.reputation==0?m.html(T_('New!')):m.html(b.reputation.toFixed(1));var n=a('<div />').addClass('hireme-wrap').append(a('<a onclick="javascript:_ttref.push([\'_setCookie\',\'HireMe_SearchButton\']);" href="/u/'+b.username+'.html?hireme=true"'+' data-link="/u/'+b.username+'.html?hireme=true" />').addClass('ns_btn ns_blue btn btn-primary branded sml searchBar-hireme').html('<span></span>'+T_('Hire Me!'))),o=a('<div />').addClass(' clear'),p=a('<div />'),q=a('<div />');k.append(l),f.append(g).append(h).append(p).append(j).append(q).append(k).append(m).append(o).append(n),c.append(e).append(f),c.hover(function(){a(this).find('.searchBar-hireme').show()},function(){a(this).find('.searchBar-hireme').hide()});var r,s=!1;if(!c.is(':visible'))var s=c.parents().filter(function(){return a(this).css('display')=='none'}).show();r=20;if(i.length>0)while(j.height()>r&&i.length>8)i=i.substr(0,i.length-1),j.html(i+'...');var t=a('<div />').append(e).append(f);return t.html()}function h(b,c,d){var e='';b.budget_period!==undefined?e=a('<p />').addClass('ns_right pull-right').html(b.currency.sign+''+b.min_budget+' - '+b.currency.sign+''+b.max_budget+''+b.currency.code):e=a('<p />').addClass('ns_right pull-right').html('&nbsp;');var f=a('<p />').addClass('project-title').html('<strong></strong>').text(b.name),g=a('<p class="job-list" />').html(b.jobList),h=a('<div />').addClass(' clear'),i=a('<div />').addClass(' clear');c.append(f).append(h).append(g).append(e).append(i);var j,k,l=!1;if(!c.is(':visible'))var l=c.parents().filter(function(){return a(this).css('display')=='none'}).show();l&&l.hide();var m=a('<div />').append(f).append(h).append(g).append(e).append(i);return m.html()}function i(b,c){if(c.which==3||a(c.target).parents('.hireme-wrap').length>0)return;if(c.ctrlKey==1||c.which==2)var d='_blank';else var d='_self';switch(b.type){case'MyProject':window.open('/projects/'+b.project.id+'.html',d);break;case'MyContact':_ttref.push(['_setCookie','HireMe_Search']),window.open('/users/'+b.id+'.html',d);break;case'TopFreelancer':_ttref.push(['_setCookie','HireMe_Search']),window.open('/users/'+b.id+'.html',d);break;case'KeywordProject':_ttref.push(['_setEntrypoint','Project_Search']),window.open('/projects/'+b.id+'.html',d);break;case'KeywordContest':_ttref.push(['_setEntrypoint','Contest_Search']),window.open('/contest/'+b.id+'.html',d);break;default:}}var b=[],c=getUserIdfromCookie();c&&b.push({name:T_('My Contacts:'),url:'/ajax/search/navSearchMyContacts.php',searchFields:['username','id'],showOnEmptyQuery:!0,displayLength:3,renderFunction:g,onSelect:i,frozen:!0,leaked:!1,leakTunnel:'/contacts/',titleImage:'contact',extended:!0}),b.push({name:T_('Freelancers'),url:'/ajax/search/navSearchTopFreelancer.php',displayLength:3,renderFunction:g,onSelect:i,leaked:!0,leakTunnel:'/users/search/',titleImage:'contact',extended:!0}),c&&b.push({name:T_('My Active Projects'),url:'/ajax/search/navSearchMyProjects.php?buyer=true&active=true',searchFields:['project.name','user.username','user.fullname'],showOnEmptyQuery:!0,displayLength:3,renderFunction:e,onSelect:i,frozen:!0,titleImage:'project',extended:!0}),b.push({name:T_('Projects'),url:'/ajax/search/navSearchKeywordProjects.php',displayLength:3,renderFunction:h,onSelect:i,leaked:!0,leakTunnel:'/search/search.php',titleImage:'project',extended:!0}),b.push({name:T_('Contests'),name_en:'Contests',url:'/ajax/search/navSearchKeywordContests.php',displayLength:3,renderFunction:f,onSelect:i,leaked:!0,leakTunnel:'/contest/browse/',titleImage:'contest',extended:!0});var d=function(b,c,d,e){var f=a('form#nav_search_form_submit');f.attr('action',d),f.attr('method',b);var g=a('<input />');g.attr('type','hidden'),g.attr('name',c),g.attr('value',e);if(c.indexOf('username')==0){var h=a('<input />');h.attr('type','hidden'),h.attr('name','search'),h.attr('value',1),f.append(h)}f.append(g),f.submit()};a(document).ready(function(){a('#navigation-search').length>0&&(a('#navigation-search').bucketedSearch({defaultText:'',emptyMessage:'',buckets:b,tracking:!0}),a('.see_more_search .ns_link').mousedown(function(b){if(b.which==3)return;if(b.ctrlKey==1||b.which==2)var c='_blank';else var c='_self';var e=a('#navigation-search'),f=a(this).attr('src'),g,h;if(f.indexOf('/users')==0){window.open('/freelancers/?q='+e.val(),c);return}if(f.indexOf('/search')==0){g='GET',h='keyword',window.open('/search/'+e.val()+'/',c);return}if(f.indexOf('/market')==0)g='GET',h='keyword';else{if(f.indexOf('/contacts')!=0){if(f.indexOf('/contest')==0){g='GET',h='keyword',window.open('/contest/browse/?keyword='+e.val(),c);return}return!1}window.open('/contacts/',c)}if(e.val()==e.data('bucketedSearch').settings.defaultText)return!1;d(g,h,f,e.val())}),a('#navigation-search').keypress(function(b){(b.which==10||b.which==13)&&d('POST','keyword','/search/'+a(this).val(),a(this).val())}))})};return b(a),define('pinky/navSearch',['jquery-wrapper','utils/trunk8'],b)}(jQuery),define('simplehp_a',['jquery-wrapper','pinhp/signup-form_a','amplify/amplify.core.min','jquery.easing.min','forms/jquery.validate.min','pinhp/post-project-form_a','pinky/navSearch'],function(a,b){function m(){a(document).ready(function(){c.init(),d.init(),i.init(),g.init(),l.init(),e.init(),window.location.pathname.match('/hire')||(k.init(),j.init(),h.init())})}var c,d,e,f,g,h,i,j,k,l;return c={init:function(){var b=a('[data-track_click=\'true\']');this.track_click_init(b),Modernizr.mq('only all and (max-width: 480px)')&&(a.fx.off=!a.fx.off)},track_click_init:function(b){b.on('click',function(){var b=a(this);if(b.attr('type')==='submit')return _gaq.push(['_trackEvent',b.data('category'),b.data('action'),'click',0]),setTimeout(function(){b.parents('form').submit()},100),!1;_gaq.push(['_trackEvent',b.data('category'),b.data('action'),'click',0])})}},i={init:function(){this.mobile_nav()},mobile_nav:function(){var b=a('[data-target="primary-nav-mini"]');b.on('change',function(){window.location=b.find(':selected').val()})}},j={$project_categories:a('#project-categories-intro'),$category_skill:a('#category-skill-intro'),init:function(){this.ajax_call(null),this.render_category_skills(),this.select_state_manager()},ajax_call:function(b){var c=this;a.ajax({type:'GET',url:'/ajax/skill-bundle.php',dataType:'json',data:{category:b},cache:!0,success:function(a){b===null?c.category_template_handler(a):c.skills_template_handler(a)}})},category_template_handler:function(b){var c,d;c=a('#category-template').html(),c!==null&&(d=_.template(c,{options:b}),this.$project_categories.html(d))},skills_template_handler:function(b){var c,d;c=a('#skills-template').html(),d=_.template(c,{options:b}),this.$category_skill.html(d)},select_state_manager:function(){var a=this;this.$category_skill.hide(),this.$project_categories.on('change',function(){var b=a.$project_categories.find('option:last').val();a.$project_categories.val()>-1&&a.$project_categories.val()!==b?(a.render_category_skills(),a.$category_skill.is(':hidden')&&a.$category_skill.show().addClass('active')):a.$category_skill.is(':visible')&&a.$category_skill.removeClass('active').hide()})},render_category_skills:function(){var a=this.$project_categories.find(':selected').val();if(a===-1||a===this.$project_categories.find('option:last').val())return!1;this.ajax_call(a)}},d={$sections:null,init:function(){var b=this;b.$sections=a('#hire').add('#objective').add('#work').add('#login').add('#signup').add('#post-project'),b.toggle_bt_init()},toggle_bt_init:function(){var b=this;a('.section-toggle').on('click',function(c){var d=a(a(this).prop('hash'));d.is(':hidden')&&b.toggle_section(d),c.preventDefault()})},toggle_section:function(b){a('html,body').animate({scrollTop:0},{queue:!0,duration:400},'easeOutQuad').find(this.$sections).filter(':visible').addClass('hidden').removeClass('visible').css('opacity',1).slideUp(400).animate({opacity:0},{queue:!1,duration:400},'easeOutQuad'),b.removeClass('hidden').css('opacity',0).slideDown(400).animate({opacity:1},{queue:!1,duration:400},'easeOutQuad').addClass('visible')}},e={$sections_bg:a('#sections-bg'),init:function(){this.bt_listeners()},bt_listeners:function(){var b,c,d,e,f,g,h;b=this,c=a('#objective'),d=c.find('.hire-bt').find('.button'),e=c.find('.work-bt').find('.button'),g=a('.login-bt'),f=a('.signup-bt'),h=a('#logo-back-bt'),d.on('click',function(){b.toggle_bg_state('hire')}),e.on('click',function(){b.toggle_bg_state('work')}),g.on('click',function(){b.toggle_bg_state('login')}),f.on('click',function(){b.toggle_bg_state('login')}),h.on('click',function(){b.clear_bg_state()})},clear_bg_state:function(){this.$sections_bg.removeClass('hire-bg').removeClass('work-bg').removeClass('login-bg').attr('data-state','')},toggle_bg_state:function(a){this.clear_bg_state(),this.$sections_bg.addClass(a+'-bg').attr('data-state',a)}},f={init:function(){this.work_filter()},work_filter:function(){a('.project-filter').each(function(){var b=a(this);b.fastLiveFilter(b.siblings('.available-projects').eq(0))})}},g={$form:a('#login-form'),init:function(){var a=this;window.location.pathname.match('/hire')||a.append_login_fields(),a.form_validate(a),Modernizr.input.placeholder&&a.$form.find('.placeholder').hide()},form_validate:function(b){this.$form.validate({rules:{username:{required:!0},passwd:{required:!0}},highlight:function(b){a(b).closest('.control-group').removeClass('success').addClass('error')},unhighlight:function(b){a(b).closest('.control-group').removeClass('error')},errorPlacement:function(a,b){b.parents('.control-group').addClass('error').removeClass('success').find('.help-inline').append(a)},submitHandler:function(c){a('#login-error').slideUp(),a('#login-bt-forgot-pwd').hide(),a('#login-ajax-spinner-div').show();if(location.protocol==='https:')return b.verify_user(),!1;c.submit()}})},verify_user:function(){var b=this.$form.find('[name="username"]').val(),c=this.$form.find('[name="passwd"]').val();return b===''||c===''?!1:(a.ajax({type:'post',data:{username:b,passwd:c},dataType:'json',url:ssl_base_url+'/ajax/login.php',success:function(b){b.status==='success'?(a('#login-success').slideDown(),setTimeout(function(){window.location=ssl_base_url+'/dashboard/'},1500)):(a('#login-ajax-spinner-div').hide(),a('#login-bt-forgot-pwd').show(),a('#login-error').slideDown())}}),!1)},append_login_fields:function(){var b=a('#login-fields').html();if(b!==null){var c=_.template(b);this.$form.find('[data-target=login-fields]').replaceWith(c)}}},l={$form:a('#forgot-password'),$fieldset:a('#forgot-password').find('fieldset'),$controlGroup:a('#forgot-password').find('.control-group'),$toggleBtn:a('#forgot-password-toggle'),$submitBtn:a('#forgot-password-submit'),$inputEmail:a('#inputEmail'),$ajaxSpinner:a('#ajax-spinner'),$error:a('#forgot-password-error'),$serverError:a('#forgot-password-server-error'),$pwdSent:a('#pwd_sent'),init:function(){this.$fieldset.hide(),this.$toggleBtn.on('click',function(a){a.preventDefault(),l.$fieldset.slideToggle(300,'easeOutQuad')}),this.validator=this.$form.validate({rules:{email:{required:!0,email:!0}},highlight:function(b){a(b).closest('.control-group').removeClass('success').addClass('error')},unhighlight:function(b){a(b).closest('.control-group').removeClass('error').addClass('success')},errorPlacement:function(a,b){b.parents('.control-group').addClass('error').removeClass('success').find('.help-inline').append(a)}}),this.$submitBtn.click(function(){l.retrieve()}),this.$form.on('keypress',function(a){a||(a=window.Event);if(a.which==13)return l.retrieve(),!1;l.$serverError.hide()}),this.$inputEmail.focusout(function(){l.validator.form()})},retrieve:function(){this.validator.form()&&a.ajax({type:'POST',data:{email:l.$inputEmail.val()},url:ssl_base_url+'/users/ajaxonforgotpassword.php',jsonpCallback:'jsonpCallback',dataType:'jsonp',timeout:1e4,beforeSend:function(){l.$serverError.hide(),l.$submitBtn.hide(),l.$ajaxSpinner.show()},success:function(a){l.$ajaxSpinner.hide(),a.status=='success'?(l.$pwdSent.show(),setTimeout(function(){l.$pwdSent.fadeOut(1e3),l.$submitBtn.show()},9999)):typeof a.msg!='undefined'&&a.msg.length>0&&(l.$controlGroup.removeClass('success').addClass('error'),l.$error.html(''),typeof a.msg=='string'?l.$error.append(a.msg):typeof a.msg=='object'&&l.$error.append(a.msg.join('<br/>')),l.$error.show(),l.$submitBtn.show())},error:function(){l.$serverError.show(),l.$submitBtn.show(),l.$ajaxSpinner.hide()}})}},k={$form:a('#signup-form'),init:function(){this.append_signup_form(),b.init()},append_signup_form:function(){var b=a('#signup-fields').html();if(b!==null){var c=_.template(b);this.$form.find('[data-target=signup-form]').replaceWith(c)}}},h={$project_cat:null,$submit:null,init:function(){this.$project_cat=a('#project-categories-intro'),this.$cat_skill=a('#category-skill-intro'),this.$submit=a('#post-project-intro'),this.render_category_skills(),this.submit_bt()},is_valid:function(){return this.$project_cat.find(':selected').val()!==-1?!0:!1},render_category_skills:function(){var a=this;a.$project_cat.on('change',function(){a.is_valid()&&a.$submit.prop('disabled')?a.$submit.prop('disabled',!1):!a.is_valid()&&!a.$submit.prop('disabled')&&a.$submit.attr('disabled','disabled')})},submit_bt:function(){var a=this;this.$submit.on('click',function(){amplify.publish('post-project-bt-clicked',a.$project_cat.find(':selected').val(),a.$cat_skill.find(':selected').val())})}},{init:m}}),define('jquery',[],function(){return jQuery}),function(){var a=['Msxml2.XMLHTTP','Microsoft.XMLHTTP','Msxml2.XMLHTTP.4.0'],b=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!='undefined'&&location.href,e=d&&location.protocol&&location.protocol.replace(/\:/,''),f=d&&location.hostname,g=d&&(location.port||undefined),h=[];define('text',[],function(){var i,j;return i={version:'1.0.8',strip:function(a){if(a){a=a.replace(b,'');var d=a.match(c);d&&(a=d[1])}else a='';return a},jsEscape:function(a){return a.replace(/(['\\])/g,'\\$1').replace(/[\f]/g,'\\f').replace(/[\b]/g,'\\b').replace(/[\n]/g,'\\n').replace(/[\t]/g,'\\t').replace(/[\r]/g,'\\r')},createXhr:function(){var b,c,d;if(typeof XMLHttpRequest!='undefined')return new XMLHttpRequest;if(typeof ActiveXObject!='undefined')for(c=0;c<3;c++){d=a[c];try{b=new ActiveXObject(d)}catch(e){}if(b){a=[d];break}}return b},parseName:function(a){var b=!1,c=a.indexOf('.'),d=a.substring(0,c),e=a.substring(c+1,a.length);return c=e.indexOf('!'),c!==-1&&(b=e.substring(c+1,e.length),b=b==='strip',e=e.substring(0,c)),{moduleName:d,ext:e,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,d){var e=i.xdRegExp.exec(a),f,g,h;return e?(f=e[2],g=e[3],g=g.split(':'),h=g[1],g=g[0],(!f||f===b)&&(!g||g===c)&&(!h&&!g||h===d)):!0},finishLoad:function(a,b,c,d,e){c=b?i.strip(c):c,e.isBuild&&(h[a]=c),d(c)},load:function(a,b,c,h){if(h.isBuild&&!h.inlineText){c();return}var j=i.parseName(a),k=j.moduleName+'.'+j.ext,l=b.toUrl(k),m=h&&h.text&&h.text.useXhr||i.useXhr;!d||m(l,e,f,g)?i.get(l,function(b){i.finishLoad(a,j.strip,b,c,h)}):b([k],function(a){i.finishLoad(j.moduleName+'.'+j.ext,j.strip,a,c,h)})},write:function(a,b,c,d){if(h.hasOwnProperty(b)){var e=i.jsEscape(h[b]);c.asModule(a+'!'+b,'define(function () { return \''+e+'\';});\n')}},writeFile:function(a,b,c,d,e){var f=i.parseName(b),g=f.moduleName+'.'+f.ext,h=c.toUrl(f.moduleName+'.'+f.ext)+'.js';i.load(g,c,function(b){var c=function(a){return d(h,a)};c.asModule=function(a,b){return d.asModule(a,h,b)},i.write(a,g,c,e)},e)}},i.createXhr()?i.get=function(a,b){var c=i.createXhr();c.open('GET',a,!0),c.onreadystatechange=function(a){c.readyState===4&&b(c.responseText)},c.send(null)}:typeof process!='undefined'&&process.versions&&!!process.versions.node?(j=require.nodeRequire('fs'),i.get=function(a,b){var c=j.readFileSync(a,'utf8');c.indexOf('ï»¿')===0&&(c=c.substring(1)),b(c)}):typeof Packages!='undefined'&&(i.get=function(a,b){var c='utf-8',d=new java.io.File(a),e=java.lang.System.getProperty('line.separator'),f=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(d),c)),g,h,i='';try{g=new java.lang.StringBuffer,h=f.readLine(),h&&h.length()&&h.charAt(0)===65279&&(h=h.substring(1)),g.append(h);while((h=f.readLine())!==null)g.append(e),g.append(h);i=String(g.toString())}finally{f.close()}b(i)}),i})}(),define('text!templates/acquisitions-banner.htm',[],function(){return'<div class="pinky-template">\n    <div class="global-announcement <%- classname %>">\n        <div class="ns_wrap wrap">\n            <a href="#" class="ns_close close">Ã</a>\n            <div class="acquired">\n                <% if (site_logo !== false) { %>\n                    <img src="<%- cdn_url(\'/img/global-announcement/\' + site_logo) %>" border="0" />\n                <% } %>\n                <span <% if (site_logo == false) { %>class="noimage"<% } %>>\n                    <%- T_("Attention <[- site_name ]> users, <[- site_name ]> has been acquired by Freelancer.com!", {site_name: site_name}) %>\n                    <% if (site_blog !== false) { %><a href="<%- site_blog %>" target="_blank"><%- T_("Find out more") %></a><% } %>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define('acquisitions',['jquery','text!templates/acquisitions-banner.htm'],function(a,b){function d(a){var b;if(a==='#gaf')b={classname:'getafreelancer',site_name:'GetAFreelancer',site_logo:'GAF.png',site_blog:!1},e('XXX','0114');else if(a==='#euf')b={classname:'eufreelance',site_name:'EUFreelance',site_logo:!1,site_blog:!1},e('XXX','0113');else if(a==='#sl')b={classname:'scriptlance',site_name:'Scriptlance',site_logo:'scriptlance.png',site_blog:'http://blog.freelancer.com/general-announcements/freelancer-com-acquires-scriptlance/'},e('XXX','0115');else if(a==='#rac')b={classname:'rentacoder',site_name:'RentACoder',site_logo:!1,site_blog:!1},e('XXX','0117');else if(a==='#vw')b={classname:'vworker',site_name:'VWorker',site_logo:'vworker-colored.png',site_blog:'http://blog.freelancer.com/uncategorized/freelancer-com-acquires-vworker/'},e('XXX','0112');else{if(a!=='#le')return!1;b={classname:'limeexchange',site_name:'LimeExchange',site_logo:'limeexchange.png',site_blog:!1},e('XXX','0116')}return b}function e(b,c){a.ajax({type:'POST',url:'/ajax/recordAffiliateClick.php',data:{program:b,program_id:c}})}var c=function(){if(typeof window.location.hash!='undefined'){var c=window.location.hash,e=d(c);if(typeof c!='undefined'){var f=_.template(b,e);typeof e.classname!='undefined'&&a('#acquisition-banner').html(f).slideDown()}}a('.global-announcement .close').click(function(){a('#acquisition-banner').slideUp()})};return{init:c}}),require.config({shim:{'forms/jquery.validate.password':{deps:['forms/jquery.validate.min']}}}),define('main-welcome_a',['jquery-wrapper','simplehp_a','acquisitions'],function(a,b,c){a(function(){b.init(),a('[data-toggle=\'tooltip\']').tooltip({animation:!1,placement:'right'}),c.init()})}),jQuery(window).load(function(){getURLParameter('showSignup')==='true'&&setTimeout(function(){jQuery('#sections-bg').attr('data-state','login'),jQuery('#objective').addClass('hidden'),jQuery('#signup').addClass('visible').removeClass('hidden').attr('style','display: block; opacity: 1')},100)})